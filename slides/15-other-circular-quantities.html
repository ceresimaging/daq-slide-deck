<div class="slide">
    <h1>Hidden Rings Everywhere: Beyond Angles & Time</h1>
    
    <div class="warning-box">
        <h3>🔍 Circular Quantities Hide in Plain Sight</h3>
        <p>It's not just angles, time, and colors that wrap around. Here are the sneaky cyclic variables that cause bugs when you least expect them:</p>
    </div>
    
    <div class="pattern-table">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background: rgba(33, 150, 243, 0.1); border-bottom: 2px solid #2196F3;">
                    <th style="padding: 12px; text-align: left; width: 30%;">Domain</th>
                    <th style="padding: 12px; text-align: left; width: 35%;">❌ Where Naive Math Fails</th>
                    <th style="padding: 12px; text-align: left; width: 35%;">✅ Correct Embedding</th>
                </tr>
            </thead>
            <tbody>
                <tr style="border-bottom: 1px solid #444;">
                    <td style="padding: 10px;"><strong>📅 Weekdays</strong><br><code>d ∈ {0..6}</code></td>
                    <td style="padding: 10px;">Mean of Sat(6) and Mon(1) = 3.5 (Wed)?<br><span style="color: #FF5722;">Wrong! Should be Sunday</span></td>
                    <td style="padding: 10px;"><code>(cos(2πd/7), sin(2πd/7))</code></td>
                </tr>
                <tr style="border-bottom: 1px solid #444; background: rgba(255, 255, 255, 0.02);">
                    <td style="padding: 10px;"><strong>🔧 Rotary Encoders</strong><br><code>n ∈ [0, 4096)</code></td>
                    <td style="padding: 10px;">4095 → 1 looks like −4094 ticks<br><span style="color: #FF5722;">Actually just 2 ticks forward!</span></td>
                    <td style="padding: 10px;"><code>(cos(2πn/N), sin(2πn/N))</code></td>
                </tr>
                <tr style="border-bottom: 1px solid #444;">
                    <td style="padding: 10px;"><strong>🌍 Longitude</strong><br><code>λ ∈ [−180°, 180°)</code></td>
                    <td style="padding: 10px;">Mean of 179°E and 179°W = 0°?<br><span style="color: #FF5722;">Points are 2° apart, not at Greenwich!</span></td>
                    <td style="padding: 10px;">3D vectors on sphere:<br><code>(cos(lat)cos(lon), cos(lat)sin(lon), sin(lat))</code></td>
                </tr>
                <tr style="border-bottom: 1px solid #444; background: rgba(255, 255, 255, 0.02);">
                    <td style="padding: 10px;"><strong>📡 Signal Phase</strong><br><code>φ ∈ [−π, π)</code></td>
                    <td style="padding: 10px;">Phase unwrapping creates artificial jumps<br><span style="color: #FF5722;">Destroys true periodicity</span></td>
                    <td style="padding: 10px;">Complex: <code>e<sup>iφ</sup> = cos(φ) + i·sin(φ)</code></td>
                </tr>
                <tr style="border-bottom: 1px solid #444;">
                    <td style="padding: 10px;"><strong>💍 Ring Buffers</strong><br><code>idx ∈ [0, size)</code></td>
                    <td style="padding: 10px;"><code>tail - head</code> wrong when wrapped<br><span style="color: #FF5722;">Buffer looks full when nearly empty!</span></td>
                    <td style="padding: 10px;"><code>(idx + size) % size</code><br>or embed as angle</td>
                </tr>
                <tr style="border-bottom: 1px solid #444; background: rgba(255, 255, 255, 0.02);">
                    <td style="padding: 10px;"><strong>⚙️ Gear Teeth</strong><br><code>tooth ∈ [0, N)</code></td>
                    <td style="padding: 10px;">Tooth 0 and Tooth N-1 look maximally apart<br><span style="color: #FF5722;">They're actually neighbors!</span></td>
                    <td style="padding: 10px;"><code>(cos(2πt/N), sin(2πt/N))</code></td>
                </tr>
                <tr style="border-bottom: 1px solid #444;">
                    <td style="padding: 10px;"><strong>🧬 Circadian Phase</strong><br><code>t ∈ [0, 24h)</code></td>
                    <td style="padding: 10px;">Sleep at 23:00 and 01:00 averages to noon?<br><span style="color: #FF5722;">Should be midnight!</span></td>
                    <td style="padding: 10px;"><code>(cos(2πt/24), sin(2πt/24))</code></td>
                </tr>
                <tr style="border-bottom: 1px solid #444; background: rgba(255, 255, 255, 0.02);">
                    <td style="padding: 10px;"><strong>📊 Months of Year</strong><br><code>m ∈ {1..12}</code></td>
                    <td style="padding: 10px;">Dec(12) to Jan(1) = -11 months?<br><span style="color: #FF5722;">Just 1 month forward!</span></td>
                    <td style="padding: 10px;"><code>(cos(2πm/12), sin(2πm/12))</code></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="highlight-box">
        <h3>💡 The Universal Solution</h3>
        <div class="formula-showcase">
            <p style="text-align: center; font-size: 18px; margin: 15px 0;">
                <strong>For ANY cyclic quantity with period T starting at offset s:</strong>
            </p>
            <p style="text-align: center; font-size: 20px; background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 8px;">
                <code>θ = 2π(value - s)/T</code> → <code>(cos(θ), sin(θ))</code>
            </p>
            <p style="text-align: center; margin-top: 15px;">
                Do all your math in vector space, then project back if needed!
            </p>
        </div>
    </div>
    
    <div class="info-box">
        <h3>🎯 When to Suspect a Hidden Ring</h3>
        <div class="two-column">
            <div>
                <h4>🚩 Red Flags in Your Data</h4>
                <ul>
                    <li>Values that "roll over" or "wrap"</li>
                    <li>Modulo operations in the code</li>
                    <li>Special cases for "crossing midnight"</li>
                    <li>Discontinuous jumps in time series</li>
                    <li>"Distance" that depends on direction</li>
                </ul>
            </div>
            <div>
                <h4>🐛 Classic Bug Patterns</h4>
                <ul>
                    <li>Averages that are wildly wrong</li>
                    <li>Interpolation that takes the "long way"</li>
                    <li>Derivatives with impossible spikes</li>
                    <li>Sorting that puts neighbors far apart</li>
                    <li>Clustering that splits natural groups</li>
                </ul>
            </div>
        </div>
    </div>
</div>