# LWIR Presentation Build System

ðŸš€ **Modular presentation system with automatic asset compilation and WebP optimization**

## Quick Start

```bash
# Install dependencies
pip install Pillow PyYAML

# Build presentation
cd presentation
python build.py
```

## What It Does

âœ¨ **Automatically finds and processes all assets**:
- Scans slide HTML files for image references (`<img src="...">`)
- Converts **ALL images to WebP at 90% quality** (PNG, JPG, TIFF â†’ WebP)
- Copies JSON/data files referenced in slides
- Handles complex nested paths from anywhere in your project

ðŸŽ¯ **Creates two outputs**:
1. **`presentation.html`** - Single file for phone calls (everything embedded)
2. **`presentation_bundle.zip`** - Full quality bundle with separate assets

## Example Asset Processing

```html
<!-- In your slide: -->
<img src="../../tile_validation_on_demand/tile_validation_042_mosaicA.png">
<a href="../comprehensive_tile_metadata/metadata.json">Data</a>

<!-- Build system automatically: -->
# 1. Finds: /home/geoff/projects/lwir-align/tile_validation_on_demand/tile_validation_042_mosaicA.png
# 2. Converts: PNG â†’ WebP at 90% quality (usually 60-80% smaller file)
# 3. Copies to: dist/presentation_bundle/assets/tile_validation_042_mosaicA.webp  
# 4. Updates slide: <img src="assets/tile_validation_042_mosaicA.webp">
# 5. Copies JSON: metadata.json â†’ assets/comprehensive_metadata.json
```

## File Structure

```
presentation/
â”œâ”€â”€ slides/              # Your slide HTML files
â”œâ”€â”€ config.yaml         # Build configuration
â”œâ”€â”€ build.py           # The magic compiler
â”œâ”€â”€ template.html      # HTML template
â”œâ”€â”€ styles.css         # Dark theme styling
â”œâ”€â”€ presentation.js    # Navigation logic
â””â”€â”€ dist/              # Generated by build.py
    â”œâ”€â”€ presentation.html              # Single file (phone-friendly)
    â”œâ”€â”€ presentation_bundle.zip        # Full bundle 
    â”œâ”€â”€ presentation_bundle/
    â”‚   â”œâ”€â”€ index.html
    â”‚   â”œâ”€â”€ assets/                    # All images as WebP!
    â”‚   â”‚   â”œâ”€â”€ tile_validation_042.webp
    â”‚   â”‚   â”œâ”€â”€ coverage_analysis.webp
    â”‚   â”‚   â””â”€â”€ metadata.json
    â”‚   â””â”€â”€ styles.css
    â””â”€â”€ assets_manifest.json          # What was processed
```

## Configuration (config.yaml)

```yaml
build:
  webp_quality: 90          # WebP compression (90% = excellent quality, good compression)  
  max_image_width: 1920     # Resize huge images to this width
  single_file: true         # Create phone-friendly single file
  bundle_folder: true       # Create full-quality bundle
  compress_json: true       # Minify JSON files
```

## WebP Benefits

- **60-80% smaller** files than PNG/JPG
- **90% quality** = virtually indistinguishable from original
- **Universal support** in all modern browsers
- **Faster loading** for phone presentations

## Workflow

```bash
# 1. Create/edit slides with any image references
echo '<img src="../../results/my_analysis.png">' > slides/05-results.html

# 2. Build everything  
python build.py

# 3. Ready to share!
# - Send presentation.html for phone calls (single file)
# - Send presentation_bundle.zip for full quality viewing
```

## Asset Manifest

The build creates `assets_manifest.json` showing exactly what was processed:

```json
{
  "build_info": {
    "build_time": "2025-09-02T10:30:15",
    "total_assets": 12,
    "webp_quality": 90
  },
  "assets": [
    {
      "local": "tile_validation_042.webp",
      "original": "/home/geoff/.../tile_validation_042_mosaicA.png",
      "type": "image", 
      "size_bytes": 156789,
      "size_human": "153.1KB",
      "used_in_slide": "02-accomplishments.html"
    }
  ]
}
```

## Perfect for Your Workflow

- âœ… **No manual asset copying** - just reference images anywhere in your project
- âœ… **WebP optimization** - smaller files, better quality  
- âœ… **Phone-friendly** - single HTML file for calls with boss
- âœ… **Future-proof** - reuse for all weekly presentations
- âœ… **Self-contained** - bundle works on any computer

## Dependencies

```bash
pip install Pillow PyYAML
```

That's it! The build system handles everything else automatically. ðŸŽ‰